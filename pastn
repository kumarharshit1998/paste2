public async Task<TrackingDTO> GetTrackingDataAsync(int lmid)
{
    var trackingData = new TrackingDTO();

    var conn = _context.Database.GetDbConnection(); // Get database connection
    await using (var command = conn.CreateCommand())
    {
        command.CommandText = "EXEC GetTrackingRecordsByLMID @p0";
        command.CommandType = CommandType.Text;

        // Add parameter
        var param = command.CreateParameter();
        param.ParameterName = "@p0";
        param.Value = lmid;
        command.Parameters.Add(param);

        if (conn.State == ConnectionState.Closed)
            await conn.OpenAsync();

        await using (var reader = await command.ExecuteReaderAsync())
        {
            if (await reader.ReadAsync())
            {
                trackingData = new TrackingDTO
                {
                    LMDB_ID = reader["LMDB_ID"] != DBNull.Value ? Convert.ToInt32(reader["LMDB_ID"]) : 0,
                    LMID = reader["LMID"] != DBNull.Value ? Convert.ToInt32(reader["LMID"]) : 0,
                    Status = reader["Status"] != DBNull.Value ? reader["Status"].ToString() : string.Empty,
                    CreatedDate = reader["CreatedDate"] != DBNull.Value ? Convert.ToDateTime(reader["CreatedDate"]) : DateTime.MinValue
                };
            }
        }
    }

    return trackingData;
}
